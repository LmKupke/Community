type Task 
  @model 
  @auth(rules: [
      {allow: groups, groups: ["Managers"], queries: null, mutations: [create, update, delete]},
      {allow: groups, groups: ["Employees"], queries: [get, list], mutations: null}
    ])
{
  id: ID!
  title: String!
  description: String
  status: String
}
type PrivateNote
  @model
  @auth(rules: [{allow: owner}])
{
  id: ID!
  content: String!
}

type User @model(mutations: null, queries: null) {
    id: ID!
    firstName: String
    lastName: String
    userName: String!
    userEmail: String!
    userPhone: String
    dog: [Dog!] @connection(name: "userDogs")
}


input userInput {
    id: ID!
    firstName: String
    lastName: String
    userName: String!
    userEmail: String!
    userPhone: String
}


type Mutation {
  createNewUser(input: userInput!) : User @function(name: "userfunction-${env}")
}

type Query {
  getCurrentUser(id: ID!): User @function(name: "userfunction-${env}")
}


type Dog @model(mutations: null) {
    id: ID!
    firstName: String!
    lastName: String
    breed: String!
    dob: AWSDate!
    sex: Sex!
    bio: String!
    owner: User! @connection(name: "userDogs")
    picture: String
}

input dogInput {
    id: ID!
    firstName: String!
    lastName: String
    breed: String!
    dob: AWSDate!
    sex: Sex!
    bio: String!
    owner: userInput!
    picture: String
}

enum Sex {
  MALE
  FEMALE
}


type Recreation
  @model
  @auth(rules: [{allow: groups, groups: ["Admin"]}])
  {
    recreationType: recreationTypes!
    availableTimeSlot: [AWSDate!]
    reservedTimeSlot: [AWSDate!]
  }

  enum RecreationType {
    BASKETBALL
    Tennis
  }
