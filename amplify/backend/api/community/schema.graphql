type Task 
  @model 
  @auth(rules: [
      {allow: groups, groups: ["Managers"], queries: null, mutations: [create, update, delete]},
      {allow: groups, groups: ["Employees"], queries: [get, list], mutations: null}
    ])
{
  id: ID!
  title: String!
  description: String
  status: String
}
type PrivateNote
  @model
  @auth(rules: [{allow: owner}])
{
  id: ID!
  content: String!
}

type User @model(mutations: null) {
    userId: ID!
    firstName: String
    lastName: String
    userName: String!
    userEmail: String!
    userPhone: String
    hasDog: [Dog!] @connection(name: "userDogs")
}


input userInput {
    userId: ID!
    firstName: String
    lastName: String
    userName: String!
    userEmail: String!
    userPhone: String
    hasDog: [dogInput!]
}


type Mutation {
  createUser(input: userInput!) : User @function(name: "userfunction-${env}")
}

type Query {
  getUsers(limit: Int start: Int): [User] @function(name: "userfunction-${env}")
}

type Dog @model(mutations: null) {
    dogId: ID!
    firstName: String!
    lastName: String
    breed: String!
    dob: AWSDate!
    sex: sex!
    bio: String!
    owner: User! @connection(name: "userDogs")
    picture: String
}

input dogInput {
    dogId: ID!
    firstName: String!
    lastName: String
    breed: String!
    dob: AWSDate!
    sex: sex!
    bio: String!
    owner: userInput!
    picture: String
}

enum sex {
  MALE
  FEMALE
}


type Recreation
  @model
  @auth(rules: [{allow: groups, groups: ["Admin"]}])
  {
    recreationType: recreationTypes!
    availableTimeSlot: [AWSDate!]
    reservedTimeSlot: [AWSDate!]
  }

  enum recreationTypes {
    Basketball
    Tennis
  }